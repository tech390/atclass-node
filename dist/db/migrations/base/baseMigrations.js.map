{"version":3,"sources":["../../../../src/db/migrations/base/baseMigrations.js"],"names":["BaseMigration","Promise","resolve","reject","data","jsonfile","readFileSync","path","join","__dirname","element","backendmysqlData","upsert","Log","info","ex","error","message"],"mappings":";;;;;;;;;AAAA;;AAGA;;;;AACA;;;;AACA;;;;;;;;IACaA,a,WAAAA,a;;;;;;;yCAEQ;AACb,mBAAO,IAAIC,OAAJ,CAAY,gBAAOC,OAAP,EAAgBC,MAAhB,EAA2B;AAC1C,oBAAMC,OAAOC,mBAASC,YAAT,CAAsBC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,sDAArB,CAAtB,CAAb;AACA,oBAAI;AAAA;AAAA;AAAA;;AAAA;AACA,6CAAsBL,IAAtB,8HAA4B;AAAA,gCAAjBM,OAAiB;;AACxB,kCAAMC,2BAAiBC,MAAjB,CAAwBF,OAAxB,CAAN;AACAG,qCAAIC,IAAJ,CAAS,gBAAT,EAA2BJ,OAA3B;AACH;AAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKAR,4BAAQ,IAAR;AACH,iBAND,CAME,OAAOa,EAAP,EAAW;AACTF,6BAAIG,KAAJ,CAAU,iCAAV,EAA6CD,GAAGE,OAAhD,EAAyDF,EAAzD;AACAZ,2BAAOY,EAAP;AACH;AACJ,aAZM,CAAP;AAaH","file":"baseMigrations.js","sourcesContent":["import {\r\n    Log\r\n} from '../../../services/log';\r\nimport backendmysqlData from '../../models/backend-mysqlData';\r\nimport jsonfile from 'jsonfile';\r\nimport path from 'path';\r\nexport class BaseMigration {\r\n\r\n    upsertMetaData() {\r\n        return new Promise(async (resolve, reject) => {\r\n            const data = jsonfile.readFileSync(path.join(__dirname, '../../../../Data/sampleData/MysqlData/test/data.json'));\r\n            try {\r\n                for (const element of data) {\r\n                    await backendmysqlData.upsert(element);\r\n                    Log.info('upserting data', element);\r\n                }\r\n                resolve(true);\r\n            } catch (ex) {\r\n                Log.error('Upsert Data   --> Exception -->', ex.message, ex);\r\n                reject(ex);\r\n            }\r\n        });\r\n    }\r\n\r\n}"]}